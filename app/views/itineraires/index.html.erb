<% content_for :title, "ItinÃ©raires - Le VÃ©lo Vert" %>

<section class="page-header">
  <div class="container">
    <h1>ğŸ—ºï¸ ItinÃ©raires touristiques</h1>
    <p>DÃ©couvrez nos parcours recommandÃ©s pour tous les niveaux</p>
  </div>
</section>

<section class="section">
  <div class="container">
    <div class="filters">
      <h3>Filtrer par niveau :</h3>
      <div class="filter-buttons">
        <%= link_to "Tous", itineraires_path, class: "btn #{params[:niveau].blank? ? 'btn-primary' : 'btn-secondary'}" %>
        <% @niveaux.each do |niveau| %>
          <%= link_to niveau, itineraires_path(niveau: niveau), class: "btn #{params[:niveau] == niveau ? 'btn-primary' : 'btn-secondary'}" %>
        <% end %>
      </div>
    </div>
    
    <div class="itineraires-list">
      <% if @itineraires.any? %>
        <% @itineraires.each do |itineraire| %>
          <div class="itineraire-card-large">
            <div class="itineraire-header">
              <h3><%= itineraire.nom %></h3>
              <span class="badge badge-<%= itineraire.niveau.downcase %>"><%= itineraire.niveau %></span>
            </div>
            
            <div class="itineraire-meta">
              <span class="meta-item">ğŸ“ <strong><%= itineraire.distance_km %> km</strong></span>
              <span class="meta-item">â±ï¸ <strong><%= itineraire.duree_formattee %></strong></span>
            </div>
            
            <p class="itineraire-description"><%= itineraire.description %></p>
            
            <%= link_to "Voir les dÃ©tails", itineraire_path(itineraire), class: "btn btn-primary" %>
          </div>
        <% end %>
      <% else %>
        <div class="empty-state">
          <p>Aucun itinÃ©raire ne correspond Ã  votre recherche.</p>
          <%= link_to "Voir tous les itinÃ©raires", itineraires_path, class: "btn btn-primary" %>
        </div>
      <% end %>
    </div>
  </div>
</section>
