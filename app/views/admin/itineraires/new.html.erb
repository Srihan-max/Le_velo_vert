<% content_for :title, "Nouvel itinéraire - Admin" %>

<div class="admin-page">
  <div class="page-header-admin">
    <h1><%= @itineraire.new_record? ? "➕ Nouvel itinéraire" : "✏️ Éditer l'itinéraire" %></h1>
  </div>
  
  <%= form_with(model: [:admin, @itineraire], local: true, class: "admin-form") do |f| %>
    <% if @itineraire.errors.any? %>
      <div class="form-errors">
        <h3><%= pluralize(@itineraire.errors.count, "erreur") %> :</h3>
        <ul>
          <% @itineraire.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
    
    <div class="form-group">
      <%= f.label :nom, "Nom de l'itinéraire *" %>
      <%= f.text_field :nom, required: true, placeholder: "Ex: Balade en centre-ville" %>
    </div>
    
    <div class="form-group">
      <%= f.label :description, "Description *" %>
      <%= f.text_area :description, rows: 6, required: true, 
          placeholder: "Décrivez l'itinéraire, les points d'intérêt..." %>
    </div>
    
    <div class="form-row">
      <div class="form-group">
        <%= f.label :distance_km, "Distance (km) *" %>
        <%= f.number_field :distance_km, step: 0.1, required: true, placeholder: "12.5" %>
      </div>
      
      <div class="form-group">
        <%= f.label :duree_minutes, "Durée (minutes) *" %>
        <%= f.number_field :duree_minutes, required: true, placeholder: "90" %>
      </div>
      
      <div class="form-group">
        <%= f.label :niveau, "Niveau *" %>
        <%= f.select :niveau, Itineraire::NIVEAUX, { prompt: "Sélectionnez" }, { required: true } %>
      </div>
    </div>
    
    <div class="form-actions">
      <%= f.submit @itineraire.new_record? ? "Créer l'itinéraire" : "Mettre à jour", class: "btn btn-primary" %>
      <%= link_to "Annuler", admin_itineraires_path, class: "btn btn-secondary" %>
    </div>
  <% end %>
</div>
